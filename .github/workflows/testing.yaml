name: shell command

on: [push]

jobs:
  run-shell-command:
    runs-on: ubuntu-latest
    steps:
      - name: echo vishalagrawal
        run: echo "vishalagrawal"
      - name: multilinecommand
        run: |
          node -v
          npm -v
      - uses: hashicorp/setup-terraform@v1
            
      - name: Terraform Version
        uses: terraform -v

      - name: Install dependencies
        uses: npm -i

      - name: Install Serverless Framework
        run: npm i -g serverless@3.13.0

      - name: Serverless Framework version
        run: serverless -v

      - name: Node version
        uses: npm -v

      - name: Unit Tests
        run: npm run test:unit
      
      - name: Terraform Format
        run: terraform fmt -recursive
      #   working-directory: ./terraform

      # - name: 